<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine</title>

<style>
body{
    margin:0;
    background:black;
    height:100vh;
    overflow:hidden;
    font-family:Segoe UI;
}

.heart{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) rotate(-45deg) scale(0);
    width:120px;
    height:120px;
    background:#ff4d88;
    animation:grow 7s forwards;
    box-shadow:0 0 120px #ff4d88;
}

.heart::before,
.heart::after{
    content:'';
    position:absolute;
    width:120px;
    height:120px;
    background:#ff4d88;
    border-radius:50%;
}

.heart::before{ top:-60px; left:0; }
.heart::after{ left:60px; top:0; }

@keyframes grow{
    0%{ transform:translate(-50%,-50%) rotate(-45deg) scale(0);}
    80%{ transform:translate(-50%,-50%) rotate(-45deg) scale(9);}
    100%{
        transform:translate(-50%,-50%) rotate(-45deg) scale(9);
        opacity:0;
    }
}

.text{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:90%;
    text-align:center;
    color:white;
    font-size:6vw;
    text-shadow:
    0 0 5px red,
    0 0 15px red,
    0 0 30px red;
    opacity:1;
}

@media (orientation: landscape){
    .text{
        font-size:8vw;
        padding:0 20px;
        word-break:break-word;
    }
}

.star{
    position:absolute;
    width:2px;
    height:100px;
    background:linear-gradient(#ffd6e7, transparent);
    animation:fall linear infinite;
}

.float-heart{
    position:absolute;
    width:20px;
    height:20px;
    background:#ff4d88;
    transform:rotate(-45deg);
    animation:floatUp 5s linear forwards;
    opacity:0.8;
}

.float-heart::before,
.float-heart::after{
    content:'';
    position:absolute;
    width:20px;
    height:20px;
    background:#ff4d88;
    border-radius:50%;
}

.float-heart::before{ top:-10px; left:0; }
.float-heart::after{ left:10px; top:0; }

@keyframes floatUp{
    from{
        transform:translateY(0) rotate(-45deg) scale(0.5);
        opacity:1;
    }
    to{
        transform:translateY(-120vh) rotate(-45deg) scale(1.5);
        opacity:0;
    }
}

@keyframes fall{
    from{ transform:translateY(-100px); }
    to{ transform:translateY(110vh); }
}
</style>
</head>

<body>

<div class="heart" id="heart"></div>
<div class="text" id="text"></div>
<iframe id="particleHeart"
src="valen.html"
style="
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
border:none;
display:none;
z-index:999;
"></iframe>

<script>

function startStars(){
    setInterval(()=>{

        let star=document.createElement("div");
        star.className="star";

        star.style.left=Math.random()*window.innerWidth+"px";
        star.style.animationDuration=(Math.random()*3+3)+"s";

        document.body.appendChild(star);

        setTimeout(()=>{
            star.remove();
        },6000);

    },300);
}
function startHearts(){
    setInterval(()=>{

        let heart=document.createElement("div");
        heart.className="float-heart";

        heart.style.left=Math.random()*window.innerWidth+"px";
        heart.style.bottom="-20px";
        heart.style.animationDuration=(Math.random()*2+3)+"s";

        document.body.appendChild(heart);

        setTimeout(()=>{
            heart.remove();
        },5000);

    },600); 
}


let messages=[
"ChÃºc Ty Valentine dui dáº» nhÃ³ ğŸ’—ğŸ€âœ¨",
"Mong Ty ngÃ y nÃ o cÅ©ng cÆ°á»i hÃ­ hÃ­ ğŸ˜ŠğŸŒ¸",
"Cáº£m Æ¡n Ty vÃ¬ Ä‘Ã£ xuáº¥t hiá»‡n ğŸŒˆğŸ§¸",
"Bin thÃ­ch Ty dá»¯ láº¯m lun Ã¡ ğŸ£ğŸ’",
"Nho Ty nhÃ¬u nhÃ¬u ğŸ¥ºğŸ­",
"CÃ³ chuyá»‡n gÃ¬ nhá»› ká»ƒ cho Bin biáº¿t nhe ğŸ’Œ",
"Bin lun á»Ÿ Ä‘Ã¢y Ä‘á»£i Ty nÃ¨ ğŸ»ğŸŒŸ",
"Ty nhá»› luÃ´n dá»… thÆ°Æ¡ng nhÆ° bÃ¢y giá» Ä‘Ã³ ğŸŒ¸ğŸ¬",
"Yeu bÃ© Ty thÃ© nhÃ²ğŸ’—",
"Ai lá»›p diu bibi ğŸ§ğŸ’—"
];


let finalMessage="Tá»¥c tÆ°ng bÃ© bá»ng cá»§a Bin hehe ğŸ¥ğŸˆ";

let text=document.getElementById("text");
let index=0;

function typeWriter(message,i,callback){
    if(i<message.length){
        text.innerHTML += message.charAt(i);
        setTimeout(()=>{
            typeWriter(message,i+1,callback);
        },70);
    }else{
        if(callback){
            setTimeout(()=>{ fadeOut(callback); },2000);
        }
    }
}

function fadeOut(callback){
    let op=1;
    function fade(){
        if(op<=0){
            callback();
            return;
        }
        text.style.opacity=op;
        op-=0.03;
        setTimeout(fade,40);
    }
    fade();
}

function showNextMessage(){
    if(index<messages.length){
        text.innerHTML="";
        text.style.opacity=1;
        typeWriter(messages[index],0,()=>{
            index++;
            showNextMessage();
        });
    }
    else{
    text.innerHTML="";
    text.style.opacity=1;
    typeWriter(finalMessage,0, showParticleHeart);
    }
}

setTimeout(()=>{
    document.getElementById("heart").style.display="none";
    startStars();
    startHearts();

    setTimeout(()=>{
        showNextMessage();
    },2000);

},7000);

function showParticleHeart(){

    setTimeout(()=>{

        text.style.display="none";

        document.getElementById("particleHeart").style.display="block";

    },2000);

}

</script>

</body>
</html>
